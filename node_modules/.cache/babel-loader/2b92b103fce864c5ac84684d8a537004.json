{"ast":null,"code":"import _objectSpread from \"/Users/scott/code/eshop/react-admin/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/scott/code/eshop/react-admin/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/scott/code/eshop/react-admin/examples/demo/src/products/ProductCreate.tsx\";\nimport React, { useState } from 'react';\nimport { Create, FormTab, NumberInput, ReferenceInput, SelectInput, TabbedForm, TextInput, required // Transform\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RichTextInput from 'ra-input-rich-text';\nimport ImageFile from './ImageFile';\nexport var styles = {\n  price: {\n    width: '7em'\n  },\n  width: {\n    width: '7em'\n  },\n  height: {\n    width: '7em'\n  },\n  stock: {\n    width: '7em'\n  },\n  widthFormGroup: {\n    display: 'inline-block'\n  },\n  heightFormGroup: {\n    display: 'inline-block',\n    marginLeft: 32\n  }\n};\nvar useStyles = makeStyles(styles);\n\nvar ProductCreate = function ProductCreate(props) {\n  var classes = useStyles();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var transform = function transform(data) {\n    console.log('state', state);\n    return _objectSpread({}, data, {}, state);\n  };\n\n  return React.createElement(Create, Object.assign({}, props, {\n    transform: transform,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(TabbedForm, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(FormTab, {\n    label: \"resources.products.tabs.image\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(ImageFile, {\n    onprocessend: function onprocessend(filename) {\n      console.log('File processed', filename);\n      setState({\n        primary_pic_url1: \"/static/upload/product/\".concat(filename),\n        list_pic_url: \"/static/upload/product/thumbnail/\".concat(filename)\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  })), React.createElement(FormTab, {\n    label: \"resources.products.tabs.details\",\n    path: \"details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(TextInput, {\n    source: \"ISBN\",\n    label: \"resources.products.ISBN\",\n    validate: required(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(TextInput, {\n    source: \"name\",\n    validate: required(),\n    label: \"resources.products.name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), React.createElement(NumberInput, {\n    source: \"retail_price\",\n    label: \"resources.products.retail_price\",\n    className: classes.price,\n    InputProps: {\n      startAdornment: React.createElement(InputAdornment, {\n        position: \"start\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"\\xA5\")\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }), React.createElement(ReferenceInput, {\n    source: \"category_id\",\n    reference: \"categories\",\n    allowEmpty: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(SelectInput, {\n    source: \"name\",\n    label: \"resources.products.category\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  })), React.createElement(NumberInput, {\n    source: \"stock\",\n    label: \"resources.products.stock\",\n    validate: required(),\n    className: classes.stock,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }), React.createElement(TextInput, {\n    source: \"author\",\n    label: \"resources.products.author\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }), React.createElement(TextInput, {\n    source: \"publisher\",\n    label: \"resources.products.publisher\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }), React.createElement(TextInput, {\n    source: \"stock_location\",\n    label: \"resources.products.stock_location\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  })), React.createElement(FormTab, {\n    label: \"resources.products.tabs.description\",\n    path: \"description\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(RichTextInput, {\n    source: \"goods_desc\",\n    label: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }))));\n};\n\nexport default ProductCreate;","map":{"version":3,"sources":["/Users/scott/code/eshop/react-admin/examples/demo/src/products/ProductCreate.tsx"],"names":["React","useState","Create","FormTab","NumberInput","ReferenceInput","SelectInput","TabbedForm","TextInput","required","InputAdornment","makeStyles","RichTextInput","ImageFile","styles","price","width","height","stock","widthFormGroup","display","heightFormGroup","marginLeft","useStyles","ProductCreate","props","classes","state","setState","transform","data","console","log","filename","primary_pic_url1","list_pic_url","startAdornment"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { FC } from 'react';\nimport {\n    Create,\n    FormTab,\n    NumberInput,\n    ReferenceInput,\n    SelectInput,\n    TabbedForm,\n    TextInput,\n    required,\n    CreateProps,\n    // Transform\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RichTextInput from 'ra-input-rich-text';\nimport ImageFile from './ImageFile';\n\nexport const styles = {\n    price: { width: '7em' },\n    width: { width: '7em' },\n    height: { width: '7em' },\n    stock: { width: '7em' },\n    widthFormGroup: { display: 'inline-block' },\n    heightFormGroup: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\ntype State = {\n    primary_pic_url: string;\n    list_pic_url: string;\n};\nconst ProductCreate: FC<CreateProps> = props => {\n    const classes = useStyles();\n    const [state, setState] = useState<State>();\n\n    const transform = (data: any) => {\n        console.log('state', state)\n        return {\n            ...data,\n            ...state,\n        };\n    };\n\n    return (\n        <Create {...props} transform={transform}>\n            <TabbedForm>\n                <FormTab label=\"resources.products.tabs.image\">\n                    <ImageFile\n                        onprocessend={(filename: string) => {\n                            console.log('File processed', filename);\n                            setState({\n                                primary_pic_url1: `/static/upload/product/${filename}`,\n                                list_pic_url: `/static/upload/product/thumbnail/${filename}`,\n                            });\n                        }}\n                    />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.details\" path=\"details\">\n                    <TextInput\n                        source=\"ISBN\"\n                        label=\"resources.products.ISBN\"\n                        validate={required()}\n                    />\n                    <TextInput\n                        source=\"name\"\n                        validate={required()}\n                        label=\"resources.products.name\"\n                    />\n                    <NumberInput\n                        source=\"retail_price\"\n                        label=\"resources.products.retail_price\"\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    ¥\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <ReferenceInput\n                        source=\"category_id\"\n                        reference=\"categories\"\n                        allowEmpty\n                    >\n                        <SelectInput\n                            source=\"name\"\n                            label=\"resources.products.category\"\n                        />\n                    </ReferenceInput>\n                    <NumberInput\n                        source=\"stock\"\n                        label=\"resources.products.stock\"\n                        validate={required()}\n                        className={classes.stock}\n                    />\n                    <TextInput\n                        source=\"author\"\n                        label=\"resources.products.author\"\n                    />\n                    <TextInput\n                        source=\"publisher\"\n                        label=\"resources.products.publisher\"\n                    />\n                    <TextInput\n                        source=\"stock_location\"\n                        label=\"resources.products.stock_location\"\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                >\n                    <RichTextInput source=\"goods_desc\" label=\"\" />\n                </FormTab>\n            </TabbedForm>\n        </Create>\n    );\n};\n\nexport default ProductCreate;\n"]},"metadata":{},"sourceType":"module"}